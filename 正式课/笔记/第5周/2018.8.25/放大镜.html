<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="" name="Keywords">
    <meta content="" name="description"/>
    <title>title</title>
    <link rel="icon" href="">
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        .litImg{
            width: 200px;
            height: 125px;
            border:10px solid #0aeeaa;
            overflow: hidden;
            float: left;
        }
        .litImg img{
            width: 100%;
            height: 100%;
        }
        .litImg .mask{
            width: 150px;
            height: 94px;
            background: rgba(0,0,0,0.3);
            position: absolute;
            display: none;
        }
        .bigImg{
            width: 267px;
            height: 167px;
            /*border:1px solid #0055cc;*/
            overflow: hidden;
            position: relative;
            float: left;
            /*display: none;*/

            border:10px solid #0055cc;
        }
        .bigImg img{
            width: 356px;
            height: 223px;
            position: absolute;
        }
    </style>
</head>
<body>
<div class='litImg'>
    <img src="images/lange.jpg" alt="">
    <div class="mask"></div>
</div>
<div class="bigImg">
    <img src="images/lange.jpg" alt="">
</div>
</body>
</html>
<script>
    var litImg=document.getElementsByClassName('litImg')[0];
    var mask=litImg.getElementsByClassName('mask')[0];
    var bigImg=document.getElementsByClassName('bigImg')[0];
    var img=bigImg.getElementsByTagName('img')[0];
    console.log(litImg);
    litImg.onmouseenter=function(){
        bigImg.style.display='block';
        mask.style.display='block';
        this.n=mask.offsetWidth/bigImg.clientWidth;
        console.log(mask.offsetWidth);
        console.log(bigImg.clientWidth);
    };
    litImg.onmousemove=function(e){
        e=e||window.event;
        var tar=e.target||e.srcElement;
        var l=e.pageX-this.offsetLeft-mask.offsetWidth/2;
        var t=e.pageY-this.offsetTop-mask.offsetHeight/2;
        var maxL=this.clientWidth-mask.clientWidth+10;
        var maxT=this.clientHeight-mask.clientHeight+10;
        l=l>maxL?maxL:(l<10?10:l);
        t=t>maxT?maxT:(t<10?10:t);
        mask.style.left=l+'px';
        mask.style.top=t+'px';
        console.log(this.n);
        img.style.left=-l/this.n+7.8+10+'px';
        img.style.top=-t/this.n+7.8+10+'px';

    };
   /* litImg.onmouseleave=function(){
        bigImg.style.display='none';
        mask.style.display='none';
    }*/
</script>